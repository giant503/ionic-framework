var webAnimationsShared={},webAnimations1={},webAnimationsNext={};if(1)var webAnimationsTesting=null;!function(shared,testing){function makeTiming(timingInput,forGroup){var timing={delay:0,endDelay:0,fill:forGroup?"both":"none",iterationStart:0,iterations:1,duration:forGroup?"auto":0,playbackRate:1,direction:"normal",easing:"linear"};return"number"!=typeof timingInput||isNaN(timingInput)?void 0!==timingInput&&Object.getOwnPropertyNames(timingInput).forEach(function(property){if("auto"!=timingInput[property]){if(("number"==typeof timing[property]||"duration"==property)&&("number"!=typeof timingInput[property]||isNaN(timingInput[property])))return;if("fill"==property&&-1==fills.indexOf(timingInput[property]))return;if("direction"==property&&-1==directions.indexOf(timingInput[property]))return;if("playbackRate"==property&&1!==timingInput[property]&&shared.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;timing[property]=timingInput[property]}}):timing.duration=timingInput,timing}function normalizeTimingInput(timingInput,forGroup){var timing=makeTiming(timingInput,forGroup);return timing.easing=toTimingFunction(timing.easing),timing}function cubic(a,b,c,d){return 0>a||a>1||0>c||c>1?linear:function(x){function f(a,b,m){return 3*a*(1-m)*(1-m)*m+3*b*(1-m)*m*m+m*m*m}for(var start=0,end=1;;){var mid=(start+end)/2,xEst=f(a,c,mid);if(Math.abs(x-xEst)<.001)return f(b,d,mid);x>xEst?start=mid:end=mid}}}function step(count,pos){return function(x){if(x>=1)return 1;var stepSize=1/count;return x+=pos*stepSize,x-x%stepSize}}function toTimingFunction(easing){var cubicData=cubicBezierRe.exec(easing);if(cubicData)return cubic.apply(this,cubicData.slice(1).map(Number));var stepData=stepRe.exec(easing);if(stepData)return step(Number(stepData[1]),{start:Start,middle:Middle,end:End}[stepData[2]]);var preset=presets[easing];return preset?preset:linear}function calculateActiveDuration(timing){return Math.abs(repeatedDuration(timing)/timing.playbackRate)}function repeatedDuration(timing){return timing.duration*timing.iterations}function calculatePhase(activeDuration,localTime,timing){return null==localTime?PhaseNone:localTime<timing.delay?PhaseBefore:localTime>=timing.delay+activeDuration?PhaseAfter:PhaseActive}function calculateActiveTime(activeDuration,fillMode,localTime,phase,delay){switch(phase){case PhaseBefore:return"backwards"==fillMode||"both"==fillMode?0:null;case PhaseActive:return localTime-delay;case PhaseAfter:return"forwards"==fillMode||"both"==fillMode?activeDuration:null;case PhaseNone:return null}}function calculateScaledActiveTime(activeDuration,activeTime,startOffset,timing){return(timing.playbackRate<0?activeTime-activeDuration:activeTime)*timing.playbackRate+startOffset}function calculateIterationTime(iterationDuration,repeatedDuration,scaledActiveTime,startOffset,timing){return scaledActiveTime===1/0||scaledActiveTime===-(1/0)||scaledActiveTime-startOffset==repeatedDuration&&timing.iterations&&(timing.iterations+timing.iterationStart)%1==0?iterationDuration:scaledActiveTime%iterationDuration}function calculateCurrentIteration(iterationDuration,iterationTime,scaledActiveTime,timing){return 0===scaledActiveTime?0:iterationTime==iterationDuration?timing.iterationStart+timing.iterations-1:Math.floor(scaledActiveTime/iterationDuration)}function calculateTransformedTime(currentIteration,iterationDuration,iterationTime,timing){var currentIterationIsOdd=currentIteration%2>=1,currentDirectionIsForwards="normal"==timing.direction||timing.direction==(currentIterationIsOdd?"alternate-reverse":"alternate"),directedTime=currentDirectionIsForwards?iterationTime:iterationDuration-iterationTime,timeFraction=directedTime/iterationDuration;return iterationDuration*timing.easing(timeFraction)}function calculateTimeFraction(activeDuration,localTime,timing){var phase=calculatePhase(activeDuration,localTime,timing),activeTime=calculateActiveTime(activeDuration,timing.fill,localTime,phase,timing.delay);if(null===activeTime)return null;if(0===activeDuration)return phase===PhaseBefore?0:1;var startOffset=timing.iterationStart*timing.duration,scaledActiveTime=calculateScaledActiveTime(activeDuration,activeTime,startOffset,timing),iterationTime=calculateIterationTime(timing.duration,repeatedDuration(timing),scaledActiveTime,startOffset,timing),currentIteration=calculateCurrentIteration(timing.duration,iterationTime,scaledActiveTime,timing);return calculateTransformedTime(currentIteration,timing.duration,iterationTime,timing)/timing.duration}var fills="backwards|forwards|both|none".split("|"),directions="reverse|alternate|alternate-reverse".split("|"),Start=1,Middle=.5,End=0,presets={ease:cubic(.25,.1,.25,1),"ease-in":cubic(.42,0,1,1),"ease-out":cubic(0,0,.58,1),"ease-in-out":cubic(.42,0,.58,1),"step-start":step(1,Start),"step-middle":step(1,Middle),"step-end":step(1,End)},numberString="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",cubicBezierRe=new RegExp("cubic-bezier\\("+numberString+","+numberString+","+numberString+","+numberString+"\\)"),stepRe=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,linear=function(x){return x},PhaseNone=0,PhaseBefore=1,PhaseAfter=2,PhaseActive=3;shared.makeTiming=makeTiming,shared.normalizeTimingInput=normalizeTimingInput,shared.calculateActiveDuration=calculateActiveDuration,shared.calculateTimeFraction=calculateTimeFraction,shared.calculatePhase=calculatePhase,shared.toTimingFunction=toTimingFunction}(webAnimationsShared,webAnimationsTesting),function(shared,testing){function antiAlias(property,value){return property in aliases?aliases[property][value]||value:value}function expandShorthandAndAntiAlias(property,value,result){var longProperties=shorthandToLonghand[property];if(longProperties){shorthandExpanderElem.style[property]=value;for(var i in longProperties){var longProperty=longProperties[i],longhandValue=shorthandExpanderElem.style[longProperty];result[longProperty]=antiAlias(longProperty,longhandValue)}}else result[property]=antiAlias(property,value)}function normalizeKeyframes(effectInput){function spaceKeyframes(){var length=keyframes.length;null==keyframes[length-1].offset&&(keyframes[length-1].offset=1),length>1&&null==keyframes[0].offset&&(keyframes[0].offset=0);for(var previousIndex=0,previousOffset=keyframes[0].offset,i=1;length>i;i++){var offset=keyframes[i].offset;if(null!=offset){for(var j=1;i-previousIndex>j;j++)keyframes[previousIndex+j].offset=previousOffset+(offset-previousOffset)*j/(i-previousIndex);previousIndex=i,previousOffset=offset}}}if(!Array.isArray(effectInput)&&null!==effectInput)throw new TypeError("Keyframes must be null or an array of keyframes");if(null==effectInput)return[];for(var keyframes=effectInput.map(function(originalKeyframe){var keyframe={};for(var member in originalKeyframe){var memberValue=originalKeyframe[member];if("offset"==member){if(null!=memberValue&&(memberValue=Number(memberValue),!isFinite(memberValue)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==member)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};memberValue="easing"==member?shared.toTimingFunction(memberValue):""+memberValue}expandShorthandAndAntiAlias(member,memberValue,keyframe)}return void 0==keyframe.offset&&(keyframe.offset=null),void 0==keyframe.easing&&(keyframe.easing=shared.toTimingFunction("linear")),keyframe}),everyFrameHasOffset=!0,previousOffset=-(1/0),i=0;i<keyframes.length;i++){var offset=keyframes[i].offset;if(null!=offset){if(previousOffset>offset)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};previousOffset=offset}else everyFrameHasOffset=!1}return keyframes=keyframes.filter(function(keyframe){return keyframe.offset>=0&&keyframe.offset<=1}),everyFrameHasOffset||spaceKeyframes(),keyframes}var shorthandToLonghand={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},shorthandExpanderElem=document.createElementNS("http://www.w3.org/1999/xhtml","div"),borderWidthAliases={thin:"1px",medium:"3px",thick:"5px"},aliases={borderBottomWidth:borderWidthAliases,borderLeftWidth:borderWidthAliases,borderRightWidth:borderWidthAliases,borderTopWidth:borderWidthAliases,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:borderWidthAliases,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};shared.normalizeKeyframes=normalizeKeyframes}(webAnimationsShared,webAnimationsTesting),function(shared){var silenced={};shared.isDeprecated=function(feature,date,advice,plural){var auxVerb=plural?"are":"is",today=new Date,expiry=new Date(date);return expiry.setMonth(expiry.getMonth()+3),expiry>today?(feature in silenced||console.warn("Web Animations: "+feature+" "+auxVerb+" deprecated and will stop working on "+expiry.toDateString()+". "+advice),silenced[feature]=!0,!1):!0},shared.deprecated=function(feature,date,advice,plural){var auxVerb=plural?"are":"is";if(shared.isDeprecated(feature,date,advice,plural))throw new Error(feature+" "+auxVerb+" no longer supported. "+advice)}}(webAnimationsShared);
//# sourceMappingURL=inter-web-animations-next-lite-preamble.js.map
(function() {
  if (document.documentElement.animate) {
    var player = document.documentElement.animate([], 0);
    var load = true;
    if (player) {
      load = false;
      "play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(t) {
        if (player[t] === undefined) {
          load = true;
        }
      });
    }
    if (!load) { return; }  }
!function(shared,scope,testing){function makePropertySpecificKeyframeGroups(keyframes){for(var propertySpecificKeyframeGroups={},i=0;i<keyframes.length;i++)for(var member in keyframes[i])if("offset"!=member&&"easing"!=member&&"composite"!=member){var propertySpecificKeyframe={offset:keyframes[i].offset,easing:keyframes[i].easing,value:keyframes[i][member]};propertySpecificKeyframeGroups[member]=propertySpecificKeyframeGroups[member]||[],propertySpecificKeyframeGroups[member].push(propertySpecificKeyframe)}for(var groupName in propertySpecificKeyframeGroups){var group=propertySpecificKeyframeGroups[groupName];if(0!=group[0].offset||1!=group[group.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return propertySpecificKeyframeGroups}function makeInterpolations(propertySpecificKeyframeGroups){var interpolations=[];for(var groupName in propertySpecificKeyframeGroups)for(var group=propertySpecificKeyframeGroups[groupName],i=0;i<group.length-1;i++){var startTime=group[i].offset,endTime=group[i+1].offset,startValue=group[i].value,endValue=group[i+1].value;startTime==endTime&&(1==endTime?startValue=endValue:endValue=startValue),interpolations.push({startTime:startTime,endTime:endTime,easing:group[i].easing,property:groupName,interpolation:scope.propertyInterpolation(groupName,startValue,endValue)})}return interpolations.sort(function(leftInterpolation,rightInterpolation){return leftInterpolation.startTime-rightInterpolation.startTime}),interpolations}scope.convertEffectInput=function(effectInput){var keyframes=shared.normalizeKeyframes(effectInput),propertySpecificKeyframeGroups=makePropertySpecificKeyframeGroups(keyframes),interpolations=makeInterpolations(propertySpecificKeyframeGroups);return function(target,fraction){if(null!=fraction)interpolations.filter(function(interpolation){return 0>=fraction&&0==interpolation.startTime||fraction>=1&&1==interpolation.endTime||fraction>=interpolation.startTime&&fraction<=interpolation.endTime}).forEach(function(interpolation){var offsetFraction=fraction-interpolation.startTime,localDuration=interpolation.endTime-interpolation.startTime,scaledLocalTime=0==localDuration?0:interpolation.easing(offsetFraction/localDuration);scope.apply(target,interpolation.property,interpolation.interpolation(scaledLocalTime))});else for(var property in propertySpecificKeyframeGroups)"offset"!=property&&"easing"!=property&&"composite"!=property&&scope.clear(target,property)}}}(webAnimationsShared,webAnimations1,webAnimationsTesting),function(scope,testing){function addPropertyHandler(parser,merger,property){propertyHandlers[property]=propertyHandlers[property]||[],propertyHandlers[property].push([parser,merger])}function addPropertiesHandler(parser,merger,properties){for(var i=0;i<properties.length;i++){var property=properties[i];addPropertyHandler(parser,merger,property),/-/.test(property)&&addPropertyHandler(parser,merger,property.replace(/-(.)/g,function(_,c){return c.toUpperCase()}))}}function propertyInterpolation(property,left,right){for(var handlers=left==right?[]:propertyHandlers[property],i=0;handlers&&i<handlers.length;i++){var parsedLeft=handlers[i][0](left),parsedRight=handlers[i][0](right);if(void 0!==parsedLeft&&void 0!==parsedRight){var interpolationArgs=handlers[i][1](parsedLeft,parsedRight);if(interpolationArgs){var interp=scope.Interpolation.apply(null,interpolationArgs);return function(t){return 0==t?left:1==t?right:interp(t)}}}}return scope.Interpolation(!1,!0,function(bool){return bool?right:left})}var propertyHandlers={};scope.addPropertiesHandler=addPropertiesHandler,scope.propertyInterpolation=propertyInterpolation}(webAnimations1,webAnimationsTesting),function(shared,scope,testing){function EffectTime(timing){var activeDuration=shared.calculateActiveDuration(timing),effectTime=function(localTime){return shared.calculateTimeFraction(activeDuration,localTime,timing)};return effectTime._totalDuration=timing.delay+activeDuration+timing.endDelay,effectTime._isCurrent=function(localTime){var phase=shared.calculatePhase(activeDuration,localTime,timing);return phase===PhaseActive||phase===PhaseBefore},effectTime}scope.KeyframeEffect=function(target,effectInput,timingInput){var timeFraction,effectTime=EffectTime(shared.normalizeTimingInput(timingInput)),interpolations=scope.convertEffectInput(effectInput),keyframeEffect=function(){interpolations(target,timeFraction)};return keyframeEffect._update=function(localTime){return timeFraction=effectTime(localTime),null!==timeFraction},keyframeEffect._clear=function(){interpolations(target,null)},keyframeEffect._hasSameTarget=function(otherTarget){return target===otherTarget},keyframeEffect._isCurrent=effectTime._isCurrent,keyframeEffect._totalDuration=effectTime._totalDuration,keyframeEffect},scope.NullEffect=function(clear){var nullEffect=function(){clear&&(clear(),clear=null)};return nullEffect._update=function(){return null},nullEffect._totalDuration=0,nullEffect._isCurrent=function(){return!1},nullEffect._hasSameTarget=function(){return!1},nullEffect}}(webAnimationsShared,webAnimations1,webAnimationsTesting),function(scope,testing){scope.apply=function(element,property,value){element.style[scope.propertyName(property)]=value},scope.clear=function(element,property){element.style[scope.propertyName(property)]=""}}(webAnimations1,webAnimationsTesting),function(scope){window.Element.prototype.animate=function(effectInput,timingInput){return scope.timeline._play(scope.KeyframeEffect(this,effectInput,timingInput))}}(webAnimations1),function(scope,testing){function interpolate(from,to,f){if("number"==typeof from&&"number"==typeof to)return from*(1-f)+to*f;if("boolean"==typeof from&&"boolean"==typeof to)return.5>f?from:to;if(from.length==to.length){for(var r=[],i=0;i<from.length;i++)r.push(interpolate(from[i],to[i],f));return r}throw"Mismatched interpolation arguments "+from+":"+to}scope.Interpolation=function(from,to,convertToString){return function(f){return convertToString(interpolate(from,to,f))}}}(webAnimations1,webAnimationsTesting),function(scope,testing){var sequenceNumber=0,AnimationEvent=function(target,currentTime,timelineTime){this.target=target,this.currentTime=currentTime,this.timelineTime=timelineTime,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=target,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};scope.Animation=function(effect){this._sequenceNumber=sequenceNumber++,this._currentTime=0,this._startTime=null,this.paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!1,this.onfinish=null,this._finishHandlers=[],this._effect=effect,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},scope.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,scope.timeline._animations.push(this))},_tickCurrentTime:function(newTime,ignoreLimit){newTime!=this._currentTime&&(this._currentTime=newTime,this.finished&&!ignoreLimit&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(newTime){newTime=+newTime,isNaN(newTime)||(scope.restart(),this.paused||null==this._startTime||(this._startTime=this._timeline.currentTime-newTime/this._playbackRate),this._currentTimePending=!1,this._currentTime!=newTime&&(this._tickCurrentTime(newTime,!0),scope.invalidateEffects()))},get startTime(){return this._startTime},set startTime(newTime){newTime=+newTime,isNaN(newTime)||this.paused||this._idle||(this._startTime=newTime,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),scope.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(value){if(value!=this._playbackRate){var oldCurrentTime=this.currentTime;this._playbackRate=value,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!=oldCurrentTime&&(this.currentTime=oldCurrentTime)}},get finished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this.paused&&0!=this.playbackRate||this._currentTimePending?"pending":this.paused?"paused":this.finished?"finished":"running"},play:function(){this.paused=!1,(this.finished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null,scope.invalidateEffects()),this._finishedFlag=!1,scope.restart(),this._idle=!1,this._ensureAlive()},pause:function(){this.finished||this.paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this.paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1)},cancel:function(){this._inEffect=!1,this._idle=!0,this.currentTime=0,this._startTime=null},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(type,handler){"function"==typeof handler&&"finish"==type&&this._finishHandlers.push(handler)},removeEventListener:function(type,handler){if("finish"==type){var index=this._finishHandlers.indexOf(handler);index>=0&&this._finishHandlers.splice(index,1)}},_fireEvents:function(baseTime){var finished=this.finished;if((finished||this._idle)&&!this._finishedFlag){var event=new AnimationEvent(this,this._currentTime,baseTime),handlers=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);handlers.forEach(function(handler){handler.call(event.target,event)})}this._finishedFlag=finished},_tick:function(timelineTime){return this._idle||this.paused||(null==this._startTime?this.startTime=timelineTime-this._currentTime/this.playbackRate:this.finished||this._tickCurrentTime((timelineTime-this._startTime)*this.playbackRate)),this._currentTimePending=!1,this._fireEvents(timelineTime),!this._idle&&(this._inEffect||!this._finishedFlag)}}}(webAnimations1,webAnimationsTesting),function(shared,scope,testing){function processRafCallbacks(t){var processing=rafCallbacks;rafCallbacks=[],tick(t),processing.forEach(function(entry){entry[1](t)}),needsRetick&&tick(t),applyPendingEffects()}function compareAnimations(leftAnimation,rightAnimation){return leftAnimation._sequenceNumber-rightAnimation._sequenceNumber}function InternalTimeline(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function applyPendingEffects(){pendingEffects.forEach(function(f){f()}),pendingEffects.length=0}function tick(t){hasRestartedThisFrame=!1;var timeline=scope.timeline;timeline.currentTime=t,timeline._animations.sort(compareAnimations),ticking=!1;var updatingAnimations=timeline._animations;timeline._animations=[];var newPendingClears=[],newPendingEffects=[];updatingAnimations=updatingAnimations.filter(function(animation){return animation._inTimeline=animation._tick(t),animation._inEffect?newPendingEffects.push(animation._effect):newPendingClears.push(animation._effect),animation.finished||animation.paused||animation._idle||(ticking=!0),animation._inTimeline}),pendingEffects.push.apply(pendingEffects,newPendingClears),pendingEffects.push.apply(pendingEffects,newPendingEffects),timeline._animations.push.apply(timeline._animations,updatingAnimations),needsRetick=!1,ticking&&requestAnimationFrame(function(){})}var originalRequestAnimationFrame=window.requestAnimationFrame,rafCallbacks=[],rafId=0;window.requestAnimationFrame=function(f){var id=rafId++;return 0==rafCallbacks.length&&originalRequestAnimationFrame(processRafCallbacks),rafCallbacks.push([id,f]),id},window.cancelAnimationFrame=function(id){rafCallbacks.forEach(function(entry){entry[0]==id&&(entry[1]=function(){})})},InternalTimeline.prototype={_play:function(effect){effect._timing=shared.normalizeTimingInput(effect.timing);var animation=new scope.Animation(effect);return animation._idle=!1,animation._timeline=this,this._animations.push(animation),scope.restart(),scope.invalidateEffects(),animation}};var ticking=!1,hasRestartedThisFrame=!1;scope.restart=function(){return ticking||(ticking=!0,requestAnimationFrame(function(){}),hasRestartedThisFrame=!0),hasRestartedThisFrame};var needsRetick=!1;scope.invalidateEffects=function(){needsRetick=!0};var pendingEffects=[],originalGetComputedStyle=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){return needsRetick&&tick(timeline.currentTime),applyPendingEffects(),originalGetComputedStyle.apply(this,arguments)}});var timeline=new InternalTimeline;scope.timeline=timeline}(webAnimationsShared,webAnimations1,webAnimationsTesting),function(scope){function consumeToken(regex,string){var result=regex.exec(string);return result?(result=regex.ignoreCase?result[0].toLowerCase():result[0],[result,string.substr(result.length)]):void 0}function consumeTrimmed(consumer,string){string=string.replace(/^\s*/,"");var result=consumer(string);return result?[result[0],result[1].replace(/^\s*/,"")]:void 0}function consumeRepeated(consumer,separator,string){consumer=consumeTrimmed.bind(null,consumer);for(var list=[];;){var result=consumer(string);if(!result)return[list,string];if(list.push(result[0]),string=result[1],result=consumeToken(separator,string),!result||""==result[1])return[list,string];string=result[1]}}function consumeParenthesised(parser,string){for(var nesting=0,n=0;n<string.length&&(!/\s|,/.test(string[n])||0!=nesting);n++)if("("==string[n])nesting++;else if(")"==string[n]&&(nesting--,0==nesting&&n++,0>=nesting))break;var parsed=parser(string.substr(0,n));return void 0==parsed?void 0:[parsed,string.substr(n)]}function lcm(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function ignore(value){return function(input){var result=value(input);return result&&(result[0]=void 0),result}}function optional(value,defaultValue){return function(input){var result=value(input);return result?result:[defaultValue,input]}}function consumeList(list,input){for(var output=[],i=0;i<list.length;i++){var result=scope.consumeTrimmed(list[i],input);if(!result||""==result[0])return;void 0!==result[0]&&output.push(result[0]),input=result[1]}return""==input?output:void 0}function mergeWrappedNestedRepeated(wrap,nestedMerge,separator,left,right){for(var matchingLeft=[],matchingRight=[],reconsititution=[],length=lcm(left.length,right.length),i=0;length>i;i++){var thing=nestedMerge(left[i%left.length],right[i%right.length]);if(!thing)return;matchingLeft.push(thing[0]),matchingRight.push(thing[1]),reconsititution.push(thing[2])}return[matchingLeft,matchingRight,function(positions){var result=positions.map(function(position,i){return reconsititution[i](position)}).join(separator);return wrap?wrap(result):result}]}function mergeList(left,right,list){for(var lefts=[],rights=[],functions=[],j=0,i=0;i<list.length;i++)if("function"==typeof list[i]){var result=list[i](left[j],right[j++]);lefts.push(result[0]),rights.push(result[1]),functions.push(result[2])}else!function(pos){lefts.push(!1),rights.push(!1),functions.push(function(){return list[pos]})}(i);return[lefts,rights,function(results){for(var result="",i=0;i<results.length;i++)result+=functions[i](results[i]);return result}]}scope.consumeToken=consumeToken,scope.consumeTrimmed=consumeTrimmed,scope.consumeRepeated=consumeRepeated,scope.consumeParenthesised=consumeParenthesised,scope.ignore=ignore,scope.optional=optional,scope.consumeList=consumeList,scope.mergeNestedRepeated=mergeWrappedNestedRepeated.bind(null,null),scope.mergeWrappedNestedRepeated=mergeWrappedNestedRepeated,scope.mergeList=mergeList}(webAnimations1),function(scope){function consumeShadow(string){function consumePart(string){var result=scope.consumeToken(/^inset/i,string);if(result)return shadow.inset=!0,result;var result=scope.consumeLengthOrPercent(string);if(result)return shadow.lengths.push(result[0]),result;var result=scope.consumeColor(string);return result?(shadow.color=result[0],result):void 0}var shadow={inset:!1,lengths:[],color:null},result=scope.consumeRepeated(consumePart,/^/,string);return result&&result[0].length?[shadow,result[1]]:void 0}function parseShadowList(string){var result=scope.consumeRepeated(consumeShadow,/^,/,string);return result&&""==result[1]?result[0]:void 0}function mergeShadow(left,right){for(;left.lengths.length<Math.max(left.lengths.length,right.lengths.length);)left.lengths.push({px:0});for(;right.lengths.length<Math.max(left.lengths.length,right.lengths.length);)right.lengths.push({px:0});if(left.inset==right.inset&&!!left.color==!!right.color){for(var colorReconstitution,lengthReconstitution=[],matchingLeft=[[],0],matchingRight=[[],0],i=0;i<left.lengths.length;i++){var mergedDimensions=scope.mergeDimensions(left.lengths[i],right.lengths[i],2==i);matchingLeft[0].push(mergedDimensions[0]),matchingRight[0].push(mergedDimensions[1]),lengthReconstitution.push(mergedDimensions[2])}if(left.color&&right.color){var mergedColor=scope.mergeColors(left.color,right.color);matchingLeft[1]=mergedColor[0],matchingRight[1]=mergedColor[1],colorReconstitution=mergedColor[2]}return[matchingLeft,matchingRight,function(value){for(var result=left.inset?"inset ":" ",i=0;i<lengthReconstitution.length;i++)result+=lengthReconstitution[i](value[0][i])+" ";return colorReconstitution&&(result+=colorReconstitution(value[1])),result}]}}function mergeNestedRepeatedShadow(nestedMerge,separator,left,right){function defaultShadow(inset){return{inset:inset,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var leftCopy=[],rightCopy=[],i=0;i<left.length||i<right.length;i++){var l=left[i]||defaultShadow(right[i].inset),r=right[i]||defaultShadow(left[i].inset);leftCopy.push(l),rightCopy.push(r)}return scope.mergeNestedRepeated(nestedMerge,separator,leftCopy,rightCopy)}var mergeShadowList=mergeNestedRepeatedShadow.bind(null,mergeShadow,", ");scope.addPropertiesHandler(parseShadowList,mergeShadowList,["box-shadow","text-shadow"])}(webAnimations1),function(scope,testing){function numberToString(x){return x.toFixed(3).replace(".000","")}function clamp(min,max,x){return Math.min(max,Math.max(min,x))}function parseNumber(string){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(string)?Number(string):void 0}function mergeNumbers(left,right){return[left,right,numberToString]}function mergeFlex(left,right){return 0!=left?clampedMergeNumbers(0,1/0)(left,right):void 0}function mergePositiveIntegers(left,right){return[left,right,function(x){return Math.round(clamp(1,1/0,x))}]}function clampedMergeNumbers(min,max){return function(left,right){return[left,right,function(x){return numberToString(clamp(min,max,x))}]}}function round(left,right){return[left,right,Math.round]}scope.clamp=clamp,scope.addPropertiesHandler(parseNumber,clampedMergeNumbers(0,1/0),["border-image-width","line-height"]),scope.addPropertiesHandler(parseNumber,clampedMergeNumbers(0,1),["opacity","shape-image-threshold"]),scope.addPropertiesHandler(parseNumber,mergeFlex,["flex-grow","flex-shrink"]),scope.addPropertiesHandler(parseNumber,mergePositiveIntegers,["orphans","widows"]),scope.addPropertiesHandler(parseNumber,round,["z-index"]),scope.parseNumber=parseNumber,scope.mergeNumbers=mergeNumbers,scope.numberToString=numberToString}(webAnimations1,webAnimationsTesting),function(scope,testing){function merge(left,right){return"visible"==left||"visible"==right?[0,1,function(x){return 0>=x?left:x>=1?right:"visible"}]:void 0}scope.addPropertiesHandler(String,merge,["visibility"])}(webAnimations1),function(scope,testing){function parseColor(string){string=string.trim(),context.fillStyle="#000",context.fillStyle=string;var contextSerializedFillStyle=context.fillStyle;if(context.fillStyle="#fff",context.fillStyle=string,contextSerializedFillStyle==context.fillStyle){context.fillRect(0,0,1,1);var pixelColor=context.getImageData(0,0,1,1).data;context.clearRect(0,0,1,1);var alpha=pixelColor[3]/255;return[pixelColor[0]*alpha,pixelColor[1]*alpha,pixelColor[2]*alpha,alpha]}}function mergeColors(left,right){return[left,right,function(x){function clamp(v){return Math.max(0,Math.min(255,v))}if(x[3])for(var i=0;3>i;i++)x[i]=Math.round(clamp(x[i]/x[3]));return x[3]=scope.numberToString(scope.clamp(0,1,x[3])),"rgba("+x.join(",")+")"}]}var canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");canvas.width=canvas.height=1;var context=canvas.getContext("2d");scope.addPropertiesHandler(parseColor,mergeColors,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),scope.consumeColor=scope.consumeParenthesised.bind(null,parseColor),scope.mergeColors=mergeColors}(webAnimations1,webAnimationsTesting),function(scope,testing){function parseDimension(unitRegExp,string){if(string=string.trim().toLowerCase(),"0"==string&&"px".search(unitRegExp)>=0)return{px:0};if(/^[^(]*$|^calc/.test(string)){string=string.replace(/calc\(/g,"(");var matchedUnits={};string=string.replace(unitRegExp,function(match){return matchedUnits[match]=null,"U"+match});for(var taggedUnitRegExp="U("+unitRegExp.source+")",typeCheck=string.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+taggedUnitRegExp,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),reductions=[/N\*(D)/g,/(N|D)[*/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],i=0;i<reductions.length;)reductions[i].test(typeCheck)?(typeCheck=typeCheck.replace(reductions[i],"$1"),i=0):i++;if("D"==typeCheck){for(var unit in matchedUnits){var result=eval(string.replace(new RegExp("U"+unit,"g"),"").replace(new RegExp(taggedUnitRegExp,"g"),"*0"));if(!isFinite(result))return;matchedUnits[unit]=result}return matchedUnits}}}function mergeDimensionsNonNegative(left,right){return mergeDimensions(left,right,!0)}function mergeDimensions(left,right,nonNegative){var unit,units=[];for(unit in left)units.push(unit);for(unit in right)units.indexOf(unit)<0&&units.push(unit);return left=units.map(function(unit){return left[unit]||0}),right=units.map(function(unit){return right[unit]||0}),[left,right,function(values){var result=values.map(function(value,i){return 1==values.length&&nonNegative&&(value=Math.max(value,0)),scope.numberToString(value)+units[i]}).join(" + ");return values.length>1?"calc("+result+")":result}]}var lengthUnits="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",parseLength=parseDimension.bind(null,new RegExp(lengthUnits,"g")),parseLengthOrPercent=parseDimension.bind(null,new RegExp(lengthUnits+"|%","g")),parseAngle=parseDimension.bind(null,/deg|rad|grad|turn/g);scope.parseLength=parseLength,scope.parseLengthOrPercent=parseLengthOrPercent,scope.consumeLengthOrPercent=scope.consumeParenthesised.bind(null,parseLengthOrPercent),scope.parseAngle=parseAngle,scope.mergeDimensions=mergeDimensions;var consumeLength=scope.consumeParenthesised.bind(null,parseLength),consumeSizePair=scope.consumeRepeated.bind(void 0,consumeLength,/^/),consumeSizePairList=scope.consumeRepeated.bind(void 0,consumeSizePair,/^,/);scope.consumeSizePairList=consumeSizePairList;var parseSizePairList=function(input){var result=consumeSizePairList(input);return result&&""==result[1]?result[0]:void 0},mergeNonNegativeSizePair=scope.mergeNestedRepeated.bind(void 0,mergeDimensionsNonNegative," "),mergeNonNegativeSizePairList=scope.mergeNestedRepeated.bind(void 0,mergeNonNegativeSizePair,",");scope.mergeNonNegativeSizePair=mergeNonNegativeSizePair,scope.addPropertiesHandler(parseSizePairList,mergeNonNegativeSizePairList,["background-size"]),scope.addPropertiesHandler(parseLengthOrPercent,mergeDimensionsNonNegative,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),scope.addPropertiesHandler(parseLengthOrPercent,mergeDimensions,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(webAnimations1,webAnimationsTesting),function(scope,testing){function consumeLengthPercentOrAuto(string){return scope.consumeLengthOrPercent(string)||scope.consumeToken(/^auto/,string)}function parseBox(string){var result=scope.consumeList([scope.ignore(scope.consumeToken.bind(null,/^rect/)),scope.ignore(scope.consumeToken.bind(null,/^\(/)),scope.consumeRepeated.bind(null,consumeLengthPercentOrAuto,/^,/),scope.ignore(scope.consumeToken.bind(null,/^\)/))],string);return result&&4==result[0].length?result[0]:void 0}function mergeComponent(left,right){return"auto"==left||"auto"==right?[!0,!1,function(t){var result=t?left:right;if("auto"==result)return"auto";var merged=scope.mergeDimensions(result,result);return merged[2](merged[0])}]:scope.mergeDimensions(left,right)}function wrap(result){return"rect("+result+")"}var mergeBoxes=scope.mergeWrappedNestedRepeated.bind(null,wrap,mergeComponent,", ");scope.parseBox=parseBox,scope.mergeBoxes=mergeBoxes,scope.addPropertiesHandler(parseBox,mergeBoxes,["clip"])}(webAnimations1,webAnimationsTesting),function(scope,testing){function cast(pattern){return function(contents){var i=0;return pattern.map(function(x){return x===_?contents[i++]:x})}}function id(x){return x}function parseTransform(string){if(string=string.toLowerCase().trim(),"none"==string)return[];for(var match,transformRegExp=/\s*(\w+)\(([^)]*)\)/g,result=[],prevLastIndex=0;match=transformRegExp.exec(string);){if(match.index!=prevLastIndex)return;prevLastIndex=match.index+match[0].length;var functionName=match[1],functionData=transformFunctions[functionName];if(!functionData)return;var args=match[2].split(","),argTypes=functionData[0];if(argTypes.length<args.length)return;for(var parsedArgs=[],i=0;i<argTypes.length;i++){var parsedArg,arg=args[i],type=argTypes[i];if(parsedArg=arg?{A:function(s){return"0"==s.trim()?Odeg:scope.parseAngle(s)},N:scope.parseNumber,T:scope.parseLengthOrPercent,L:scope.parseLength}[type.toUpperCase()](arg):{a:Odeg,n:parsedArgs[0],t:Opx}[type],void 0===parsedArg)return;parsedArgs.push(parsedArg)}if(result.push({t:functionName,d:parsedArgs}),transformRegExp.lastIndex==string.length)return result}}function numberToLongString(x){return x.toFixed(6).replace(".000000","")}function mergeMatrices(left,right){if(left.decompositionPair!==right){left.decompositionPair=right;var leftArgs=scope.makeMatrixDecomposition(left)}if(right.decompositionPair!==left){right.decompositionPair=left;var rightArgs=scope.makeMatrixDecomposition(right)}return null==leftArgs[0]||null==rightArgs[0]?[[!1],[!0],function(x){return x?right[0].d:left[0].d}]:(leftArgs[0].push(0),rightArgs[0].push(1),[leftArgs,rightArgs,function(list){var quat=scope.quat(leftArgs[0][3],rightArgs[0][3],list[5]),mat=scope.composeMatrix(list[0],list[1],list[2],quat,list[4]),stringifiedArgs=mat.map(numberToLongString).join(",");return stringifiedArgs}])}function typeTo2D(type){return type.replace(/[xy]/,"")}function typeTo3D(type){return type.replace(/(x|y|z|3d)?$/,"3d")}function mergeTransforms(left,right){var matrixModulesLoaded=scope.makeMatrixDecomposition&&!0,flipResults=!1;if(!left.length||!right.length){left.length||(flipResults=!0,left=right,right=[]);for(var i=0;i<left.length;i++){var type=left[i].t,args=left[i].d,defaultValue="scale"==type.substr(0,5)?1:0;right.push({t:type,d:args.map(function(arg){if("number"==typeof arg)return defaultValue;var result={};for(var unit in arg)result[unit]=defaultValue;return result})})}}var isMatrixOrPerspective=function(lt,rt){return"perspective"==lt&&"perspective"==rt||("matrix"==lt||"matrix3d"==lt)&&("matrix"==rt||"matrix3d"==rt)},leftResult=[],rightResult=[],types=[];if(left.length!=right.length){if(!matrixModulesLoaded)return;var merged=mergeMatrices(left,right);leftResult=[merged[0]],rightResult=[merged[1]],types=[["matrix",[merged[2]]]]}else for(var i=0;i<left.length;i++){var type,leftType=left[i].t,rightType=right[i].t,leftArgs=left[i].d,rightArgs=right[i].d,leftFunctionData=transformFunctions[leftType],rightFunctionData=transformFunctions[rightType];if(isMatrixOrPerspective(leftType,rightType)){if(!matrixModulesLoaded)return;var merged=mergeMatrices([left[i]],[right[i]]);leftResult.push(merged[0]),rightResult.push(merged[1]),types.push(["matrix",[merged[2]]])}else{if(leftType==rightType)type=leftType;else if(leftFunctionData[2]&&rightFunctionData[2]&&typeTo2D(leftType)==typeTo2D(rightType))type=typeTo2D(leftType),leftArgs=leftFunctionData[2](leftArgs),rightArgs=rightFunctionData[2](rightArgs);else{if(!leftFunctionData[1]||!rightFunctionData[1]||typeTo3D(leftType)!=typeTo3D(rightType)){if(!matrixModulesLoaded)return;var merged=mergeMatrices(left,right);leftResult=[merged[0]],rightResult=[merged[1]],types=[["matrix",[merged[2]]]];break}type=typeTo3D(leftType),leftArgs=leftFunctionData[1](leftArgs),rightArgs=rightFunctionData[1](rightArgs)}for(var leftArgsCopy=[],rightArgsCopy=[],stringConversions=[],j=0;j<leftArgs.length;j++){var merge="number"==typeof leftArgs[j]?scope.mergeNumbers:scope.mergeDimensions,merged=merge(leftArgs[j],rightArgs[j]);leftArgsCopy[j]=merged[0],rightArgsCopy[j]=merged[1],stringConversions.push(merged[2])}leftResult.push(leftArgsCopy),rightResult.push(rightArgsCopy),types.push([type,stringConversions])}}if(flipResults){var tmp=leftResult;leftResult=rightResult,rightResult=tmp}return[leftResult,rightResult,function(list){return list.map(function(args,i){var stringifiedArgs=args.map(function(arg,j){return types[i][1][j](arg)}).join(",");return"matrix"==types[i][0]&&16==stringifiedArgs.split(",").length&&(types[i][0]="matrix3d"),types[i][0]+"("+stringifiedArgs+")"}).join(" ")}]}var _=null,Opx={px:0},Odeg={deg:0},transformFunctions={matrix:["NNNNNN",[_,_,0,0,_,_,0,0,0,0,1,0,_,_,0,1],id],matrix3d:["NNNNNNNNNNNNNNNN",id],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",cast([_,_,1]),id],scalex:["N",cast([_,1,1]),cast([_,1])],scaley:["N",cast([1,_,1]),cast([1,_])],scalez:["N",cast([1,1,_])],scale3d:["NNN",id],skew:["Aa",null,id],skewx:["A",null,cast([_,Odeg])],skewy:["A",null,cast([Odeg,_])],translate:["Tt",cast([_,_,Opx]),id],translatex:["T",cast([_,Opx,Opx]),cast([_,Opx])],translatey:["T",cast([Opx,_,Opx]),cast([Opx,_])],translatez:["L",cast([Opx,Opx,_])],translate3d:["TTL",id]};scope.addPropertiesHandler(parseTransform,mergeTransforms,["transform"])}(webAnimations1,webAnimationsTesting),function(scope,testing){function alias(name,aliases){aliases.concat([name]).forEach(function(candidate){candidate in document.documentElement.style&&(aliased[name]=candidate)})}var aliased={};alias("transform",["webkitTransform","msTransform"]),alias("transformOrigin",["webkitTransformOrigin"]),alias("perspective",["webkitPerspective"]),alias("perspectiveOrigin",["webkitPerspectiveOrigin"]),scope.propertyName=function(property){return aliased[property]||property}}(webAnimations1,webAnimationsTesting);})();
//# sourceMappingURL=inter-guarded-web-animations-next-lite-web-animations-1.js.map
!function(shared,scope,testing){function webAnimationsNextTick(t){var timeline=window.document.timeline;timeline.currentTime=t,timeline._discardAnimations(),0==timeline._animations.length?ticking=!1:requestAnimationFrame(webAnimationsNextTick)}scope.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},scope.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},getAnimationPlayers:function(){return shared.deprecated("AnimationTimeline.getAnimationPlayers","2015-03-23","Use AnimationTimeline.getAnimations instead."),this.getAnimations()},_discardAnimations:function(){this._animations=this._animations.filter(function(animation){return"finished"!=animation.playState&&"idle"!=animation.playState})},play:function(effect){var animation=new scope.Animation(effect);return this._animations.push(animation),scope.restartWebAnimationsNextTick(),animation._animation.play(),animation}};var ticking=!1;scope.restartWebAnimationsNextTick=function(){ticking||(ticking=!0,requestAnimationFrame(webAnimationsNextTick))};var timeline=new scope.AnimationTimeline;scope.timeline=timeline;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return timeline}})}catch(e){}try{window.document.timeline=timeline}catch(e){}}(webAnimationsShared,webAnimationsNext,webAnimationsTesting),function(shared,scope,testing){scope.Animation=function(effect){this.effect=effect,effect&&(effect.animation=this),this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._rebuildUnderlyingAnimation(),this._animation.cancel()},scope.Animation.prototype={_rebuildUnderlyingAnimation:function(){this._animation&&(this._animation.cancel(),this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=scope.newUnderlyingAnimationForKeyframeEffect(this.effect),scope.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=scope.newUnderlyingAnimationForGroup(this.effect),scope.bindAnimationForGroup(this))},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var offset=this.effect._timing.delay;this._childAnimations.forEach(function(childAnimation){this._arrangeChildren(childAnimation,offset),this.effect instanceof window.SequenceEffect&&(offset+=scope.groupChildDuration(childAnimation.effect))}.bind(this))}},_setExternalAnimation:function(animation){if(this.effect&&this._isGroup)for(var i=0;i<this.effect.children.length;i++)this.effect.children[i].animation=animation,this._childAnimations[i]._setExternalAnimation(animation)},_constructChildren:function(){if(this.effect&&this._isGroup){var offset=this.effect._timing.delay;this.effect.children.forEach(function(child){var childAnimation=window.document.timeline.play(child);this._childAnimations.push(childAnimation),childAnimation.playbackRate=this.playbackRate,this.paused&&childAnimation.pause(),child.animation=this.effect.animation,this._arrangeChildren(childAnimation,offset),this.effect instanceof window.SequenceEffect&&(offset+=scope.groupChildDuration(child))}.bind(this))}},_arrangeChildren:function(childAnimation,offset){null===this.startTime?(childAnimation.currentTime=this.currentTime-offset/this.playbackRate,childAnimation._startTime=null):childAnimation.startTime!==this.startTime+offset/this.playbackRate&&(childAnimation.startTime=this.startTime+offset/this.playbackRate)},get paused(){return this._animation.paused},get playState(){return this._animation.playState},get onfinish(){return this._onfinish},set onfinish(v){"function"==typeof v?(this._onfinish=v,this._animation.onfinish=function(e){e.target=this,v.call(this,e)}.bind(this)):(this._animation.onfinish=v,this.onfinish=this._animation.onfinish)},get currentTime(){return this._animation.currentTime},set currentTime(v){this._animation.currentTime=v,this._register(),this._forEachChild(function(child,offset){child.currentTime=v-offset})},get startTime(){return this._animation.startTime},set startTime(v){this._animation.startTime=v,this._register(),this._forEachChild(function(child,offset){child.startTime=v+offset})},get playbackRate(){return this._animation.playbackRate},set playbackRate(value){var oldCurrentTime=this.currentTime;this._animation.playbackRate=value,this._forEachChild(function(childAnimation){childAnimation.playbackRate=value}),"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!==oldCurrentTime&&(this.currentTime=oldCurrentTime)},get finished(){return this._animation.finished},get source(){return shared.deprecated("Animation.source","2015-03-23","Use Animation.effect instead."),this.effect},play:function(){this._animation.play(),this._register(),scope.awaitStartTime(this),this._forEachChild(function(child){var time=child.currentTime;child.play(),child.currentTime=time})},pause:function(){this._animation.pause(),this._register(),this._forEachChild(function(child){child.pause()})},finish:function(){this._animation.finish(),this._register()},cancel:function(){this._animation.cancel(),this._register(),this._removeChildren()},reverse:function(){var oldCurrentTime=this.currentTime;this._animation.reverse(),this._forEachChild(function(childAnimation){childAnimation.reverse()}),null!==oldCurrentTime&&(this.currentTime=oldCurrentTime)},addEventListener:function(type,handler){var wrapped=handler;"function"==typeof handler&&(wrapped=function(e){e.target=this,handler.call(this,e)}.bind(this),handler._wrapper=wrapped),this._animation.addEventListener(type,wrapped)},removeEventListener:function(type,handler){this._animation.removeEventListener(type,handler&&handler._wrapper||handler)},_removeChildren:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(f){var offset=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildren(),this._childAnimations.forEach(function(child){f.call(this,child,offset),this.effect instanceof window.SequenceEffect&&(offset+=child.effect.activeDuration)}.bind(this)),"pending"!=this._animation.playState){var timing=this.effect._timing,t=this._animation.currentTime;null!==t&&(t=shared.calculateTimeFraction(shared.calculateActiveDuration(timing),t,timing)),(null==t||isNaN(t))&&this._removeChildren()}}}}(webAnimationsShared,webAnimationsNext,webAnimationsTesting),function(shared,scope,testing){function KeyframeList(effectInput){this._frames=shared.normalizeKeyframes(effectInput)}function updatePendingGroups(){for(var updated=!1;pendingGroups.length;)pendingGroups.shift()._updateChildren(),updated=!0;return updated}scope.KeyframeEffect=function(target,effectInput,timingInput){return this.target=target,this._timingInput=timingInput,this._timing=shared.normalizeTimingInput(timingInput),this.timing=shared.makeTiming(timingInput),"function"==typeof effectInput?this._normalizedKeyframes=effectInput:this._normalizedKeyframes=new KeyframeList(effectInput),this._keyframes=effectInput,this.activeDuration=shared.calculateActiveDuration(this._timing),this},scope.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},get effect(){return shared.deprecated("KeyframeEffect.effect","2015-03-23","Use KeyframeEffect.getFrames() instead."),this._normalizedKeyframes}};var originalElementAnimate=Element.prototype.animate;Element.prototype.animate=function(effectInput,timing){return scope.timeline.play(new scope.KeyframeEffect(this,effectInput,timing))};var nullTarget=document.createElementNS("http://www.w3.org/1999/xhtml","div");scope.newUnderlyingAnimationForKeyframeEffect=function(keyframeEffect){var target=keyframeEffect.target||nullTarget,keyframes=keyframeEffect._keyframes;return"function"==typeof keyframes&&(keyframes=[]),originalElementAnimate.apply(target,[keyframes,keyframeEffect._timingInput])},scope.bindAnimationForKeyframeEffect=function(animation){animation.effect&&"function"==typeof animation.effect._normalizedKeyframes&&scope.bindAnimationForCustomEffect(animation)};var pendingGroups=[];scope.awaitStartTime=function(groupAnimation){null===groupAnimation.startTime&&groupAnimation._isGroup&&(0==pendingGroups.length&&requestAnimationFrame(updatePendingGroups),pendingGroups.push(groupAnimation))};var originalGetComputedStyle=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){var result=originalGetComputedStyle.apply(this,arguments);return updatePendingGroups()&&(result=originalGetComputedStyle.apply(this,arguments)),result}}),window.KeyframeEffect=scope.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(animation){return null!==animation.effect&&animation.effect.target==this}.bind(this))},window.Element.prototype.getAnimationPlayers=function(){return shared.deprecated("Element.getAnimationPlayers","2015-03-23","Use Element.getAnimations instead."),this.getAnimations()},window.Animation=function(){shared.deprecated("window.Animation","2015-03-23","Use window.KeyframeEffect instead."),window.KeyframeEffect.apply(this,arguments)},window.Animation.prototype=Object.create(window.KeyframeEffect.prototype),window.Animation.prototype.constructor=window.Animation}(webAnimationsShared,webAnimationsNext,webAnimationsTesting),function(shared,scope,testing){function register(callback){callback._registered||(callback._registered=!0,callbacks.push(callback),ticking||(ticking=!0,requestAnimationFrame(tick)))}function tick(t){var updating=callbacks;callbacks=[],updating.sort(function(left,right){return left._sequenceNumber-right._sequenceNumber}),updating=updating.filter(function(callback){callback();var playState=callback._animation?callback._animation.playState:"idle";return"running"!=playState&&"pending"!=playState&&(callback._registered=!1),callback._registered}),callbacks.push.apply(callbacks,updating),callbacks.length?(ticking=!0,requestAnimationFrame(tick)):ticking=!1}var sequenceNumber=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);scope.bindAnimationForCustomEffect=function(animation){var target=animation.effect.target,effectFunction=animation.effect._normalizedKeyframes,timing=animation.effect.timing,last=null;timing=shared.normalizeTimingInput(timing);var callback=function(){var t=callback._animation?callback._animation.currentTime:null;null!==t&&(t=shared.calculateTimeFraction(shared.calculateActiveDuration(timing),t,timing),isNaN(t)&&(t=null)),t!==last&&effectFunction(t,target,animation.effect),last=t};callback._animation=animation,callback._registered=!1,callback._sequenceNumber=sequenceNumber++,animation._callback=callback,register(callback)};var callbacks=[],ticking=!1;scope.Animation.prototype._register=function(){this._callback&&register(this._callback)}}(webAnimationsShared,webAnimationsNext,webAnimationsTesting),function(shared,scope,testing){function groupChildDuration(node){return node._timing.delay+node.activeDuration+node._timing.endDelay}function constructor(children,timingInput){this.children=children||[],this._timing=shared.normalizeTimingInput(timingInput,!0),this.timing=shared.makeTiming(timingInput,!0),"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){constructor.apply(this,arguments)},window.GroupEffect=function(){constructor.apply(this,arguments)},window.SequenceEffect.prototype={get activeDuration(){var total=0;return this.children.forEach(function(child){total+=groupChildDuration(child)}),Math.max(total,0)}},window.GroupEffect.prototype={get activeDuration(){var max=0;return this.children.forEach(function(child){max=Math.max(max,groupChildDuration(child))}),max}},scope.newUnderlyingAnimationForGroup=function(group){var underlyingAnimation,timing=null,ticker=function(tf){var animation=underlyingAnimation._wrapper;if("pending"!=animation.playState&&animation.effect)return null==tf?void animation._removeChildren():0==tf&&animation.playbackRate<0&&(timing||(timing=shared.normalizeTimingInput(animation.effect.timing)),tf=shared.calculateTimeFraction(shared.calculateActiveDuration(timing),-1,timing),isNaN(tf)||null==tf)?(animation._forEachChild(function(child){child.currentTime=-1}),void animation._removeChildren()):void 0};return underlyingAnimation=scope.timeline.play(new scope.KeyframeEffect(null,ticker,group._timing))},scope.bindAnimationForGroup=function(animation){animation._animation._wrapper=animation,animation._isGroup=!0,scope.awaitStartTime(animation),animation._constructChildren(),animation._setExternalAnimation(animation)},scope.groupChildDuration=groupChildDuration,window.AnimationSequence=function(){shared.deprecated("window.AnimationSequence","2015-03-23","Use window.SequenceEffect instead."),window.SequenceEffect.apply(this,arguments)},window.AnimationSequence.prototype=Object.create(window.SequenceEffect.prototype),window.AnimationSequence.prototype.constructor=window.AnimationSequence,window.AnimationGroup=function(){shared.deprecated("window.AnimationGroup","2015-03-23","Use window.GroupEffect instead."),window.GroupEffect.apply(this,arguments)},window.AnimationGroup.prototype=Object.create(window.GroupEffect.prototype),window.AnimationGroup.prototype.constructor=window.AnimationGroup}(webAnimationsShared,webAnimationsNext,webAnimationsTesting);
//# sourceMappingURL=inter-component-web-animations-next-lite.js.map
